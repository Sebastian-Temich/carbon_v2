{"ast":null,"code":"import _objectWithoutProperties from\"/Users/st/Documents/carbon/front/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"transactionId\"];import{ApiResponse}from'@custom-types/api-types';import{parsePaginationHeader}from'@services/pagination.service';import{createUnsuccessfulApiResponse}from'@services/error-service';import{axiosAuthorized}from'./api';export const getTransactions=async _ref=>{let{page,perPage}=_ref;try{var _response$headers;const response=await axiosAuthorized.get('/transactions',{params:{page,perPage}});const pagination=parsePaginationHeader(response===null||response===void 0?void 0:(_response$headers=response.headers)===null||_response$headers===void 0?void 0:_response$headers['x-pagination']);return new ApiResponse({data:response.data,pagination});}catch(error){return createUnsuccessfulApiResponse(error);}};export const getTransactionStatuses=async()=>{try{const{data}=await axiosAuthorized.get('/transaction-statuses');return new ApiResponse({data});}catch(error){return createUnsuccessfulApiResponse(error);}};export const updateTransaction=async _ref2=>{let{transactionId}=_ref2,body=_objectWithoutProperties(_ref2,_excluded);try{const{data}=await axiosAuthorized.patch(\"/transactions/\".concat(transactionId),body);return new ApiResponse({data});}catch(error){return createUnsuccessfulApiResponse(error);}};","map":{"version":3,"names":["ApiResponse","parsePaginationHeader","createUnsuccessfulApiResponse","axiosAuthorized","getTransactions","_ref","page","perPage","_response$headers","response","get","params","pagination","headers","data","error","getTransactionStatuses","updateTransaction","_ref2","transactionId","body","_objectWithoutProperties","_excluded","patch","concat"],"sources":["/Users/st/Documents/carbon/front/src/api/transactions-api.ts"],"sourcesContent":["import { ApiResponse, PaginationQueryParams } from '@custom-types/api-types';\nimport { parsePaginationHeader } from '@services/pagination.service';\nimport { createUnsuccessfulApiResponse } from '@services/error-service';\nimport { Transaction, TransactionStatus } from '@custom-types/transactions-types';\nimport { axiosAuthorized } from './api';\n\ninterface UpdateTransactionArgs {\n  transactionId: string;\n  transactionStatusId?: string;\n}\n\nexport const getTransactions = async ({\n  page,\n  perPage,\n}: PaginationQueryParams): Promise<ApiResponse<Transaction[]>> => {\n  try {\n    const response = await axiosAuthorized.get('/transactions', {\n      params: {\n        page,\n        perPage,\n      },\n    });\n    const pagination = parsePaginationHeader(response?.headers?.['x-pagination']);\n\n    return new ApiResponse<Transaction[]>({\n      data: response.data,\n      pagination,\n    });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const getTransactionStatuses = async (): Promise<ApiResponse<TransactionStatus[]>> => {\n  try {\n    const { data } = await axiosAuthorized.get('/transaction-statuses');\n\n    return new ApiResponse<TransactionStatus[]>({ data });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const updateTransaction = async ({\n  transactionId,\n  ...body\n}: UpdateTransactionArgs): Promise<ApiResponse<Transaction>> => {\n  try {\n    const { data } = await axiosAuthorized.patch(`/transactions/${transactionId}`, body);\n\n    return new ApiResponse<Transaction>({ data });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n"],"mappings":"4KAAA,OAASA,WAAW,KAA+B,yBAAyB,CAC5E,OAASC,qBAAqB,KAAQ,8BAA8B,CACpE,OAASC,6BAA6B,KAAQ,yBAAyB,CAEvE,OAASC,eAAe,KAAQ,OAAO,CAOvC,MAAO,MAAM,CAAAC,eAAe,CAAG,MAAAC,IAAA,EAGmC,IAH5B,CACpCC,IAAI,CACJC,OACqB,CAAC,CAAAF,IAAA,CACtB,GAAI,KAAAG,iBAAA,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAN,eAAe,CAACO,GAAG,CAAC,eAAe,CAAE,CAC1DC,MAAM,CAAE,CACNL,IAAI,CACJC,OACF,CACF,CAAC,CAAC,CACF,KAAM,CAAAK,UAAU,CAAGX,qBAAqB,CAACQ,QAAQ,SAARA,QAAQ,kBAAAD,iBAAA,CAARC,QAAQ,CAAEI,OAAO,UAAAL,iBAAA,iBAAjBA,iBAAA,CAAoB,cAAc,CAAC,CAAC,CAE7E,MAAO,IAAI,CAAAR,WAAW,CAAgB,CACpCc,IAAI,CAAEL,QAAQ,CAACK,IAAI,CACnBF,UACF,CAAC,CAAC,CACJ,CAAE,MAAOG,KAAK,CAAE,CACd,MAAO,CAAAb,6BAA6B,CAACa,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,sBAAsB,CAAG,KAAAA,CAAA,GAAuD,CAC3F,GAAI,CACF,KAAM,CAAEF,IAAK,CAAC,CAAG,KAAM,CAAAX,eAAe,CAACO,GAAG,CAAC,uBAAuB,CAAC,CAEnE,MAAO,IAAI,CAAAV,WAAW,CAAsB,CAAEc,IAAK,CAAC,CAAC,CACvD,CAAE,MAAOC,KAAK,CAAE,CACd,MAAO,CAAAb,6BAA6B,CAACa,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAE,iBAAiB,CAAG,MAAAC,KAAA,EAG+B,IAHxB,CACtCC,aAEqB,CAAC,CAAAD,KAAA,CADnBE,IAAI,CAAAC,wBAAA,CAAAH,KAAA,CAAAI,SAAA,EAEP,GAAI,CACF,KAAM,CAAER,IAAK,CAAC,CAAG,KAAM,CAAAX,eAAe,CAACoB,KAAK,kBAAAC,MAAA,CAAkBL,aAAa,EAAIC,IAAI,CAAC,CAEpF,MAAO,IAAI,CAAApB,WAAW,CAAc,CAAEc,IAAK,CAAC,CAAC,CAC/C,CAAE,MAAOC,KAAK,CAAE,CACd,MAAO,CAAAb,6BAA6B,CAACa,KAAK,CAAC,CAC7C,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}