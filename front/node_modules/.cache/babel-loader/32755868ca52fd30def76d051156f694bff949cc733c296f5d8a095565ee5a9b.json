{"ast":null,"code":"import _objectSpread from\"/Users/st/Documents/carbon/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useTranslation}from'react-i18next';import{modalStore}from'@store/modal-store';import{offsetDetailsStore}from'@store/offset-store';import{rootStore}from'@store/root-store';import{ModalTypes}from'@variables/modal-variables';import{OffsetStatus}from'@variables/offset-status-enum';export function useAcceptRejectOffsets(){const{fetchMarketplace}=rootStore.marketplaceStore;const{updateOffset}=offsetDetailsStore;const{formData}=rootStore.dataFormStore;const{t}=useTranslation();const getStatus=message=>{const status=formData.status.find(elem=>elem.label===message);const offset={statusId:status===null||status===void 0?void 0:status.value};return offset;};const acceptOffset=rowData=>{modalStore.push({title:t('offset.acceptOffsetTitle'),content:t('offset.acceptOffsetConfirmationMessage'),type:ModalTypes.Confirmation,onAgree:async currentModal=>{modalStore.update(_objectSpread(_objectSpread({},currentModal),{},{isLoading:true}));const response=await updateOffset(getStatus(OffsetStatus.Accepted),rowData.id);if(response){fetchMarketplace();modalStore.push({title:t('offset.acceptOffsetTitle'),content:t('offset.acceptOffsetSuccessMessage',{projectName:rowData.project.name}),type:ModalTypes.Info});}}});};const rejectOffset=rowData=>{modalStore.push({title:t('offset.rejectOffsetTitle'),content:t('offset.rejectOffsetConfirmationMessage'),type:ModalTypes.Confirmation,onAgree:async currentModal=>{modalStore.update(_objectSpread(_objectSpread({},currentModal),{},{isLoading:true}));const response=await updateOffset(getStatus(OffsetStatus.Rejected),rowData.id);if(response){fetchMarketplace();modalStore.push({title:t('offset.rejectOffsetTitle'),content:t('offset.rejectOffsetSuccessMessage',{projectName:rowData.project.name}),type:ModalTypes.Info});}}});};return{acceptOffset,rejectOffset};}","map":{"version":3,"names":["useTranslation","modalStore","offsetDetailsStore","rootStore","ModalTypes","OffsetStatus","useAcceptRejectOffsets","fetchMarketplace","marketplaceStore","updateOffset","formData","dataFormStore","t","getStatus","message","status","find","elem","label","offset","statusId","value","acceptOffset","rowData","push","title","content","type","Confirmation","onAgree","currentModal","update","_objectSpread","isLoading","response","Accepted","id","projectName","project","name","Info","rejectOffset","Rejected"],"sources":["/Users/st/Documents/carbon/front/src/components/sell-buy-offsets/accept-reject-offset.tsx"],"sourcesContent":["import { ResponseOffset } from '@custom-types/offsets-types';\nimport { useTranslation } from 'react-i18next';\nimport { modalStore } from '@store/modal-store';\nimport { offsetDetailsStore } from '@store/offset-store';\nimport { rootStore } from '@store/root-store';\nimport { ModalTypes } from '@variables/modal-variables';\nimport { OffsetStatus } from '@variables/offset-status-enum';\n\nexport function useAcceptRejectOffsets() {\n  const { fetchMarketplace } = rootStore.marketplaceStore;\n  const { updateOffset } = offsetDetailsStore;\n  const { formData } = rootStore.dataFormStore;\n  const { t } = useTranslation();\n  const getStatus = (message: string) => {\n    const status = formData.status.find((elem) => elem.label === message);\n    const offset = {\n      statusId: status?.value,\n    };\n    return offset;\n  };\n  const acceptOffset = (rowData: ResponseOffset) => {\n    modalStore.push({\n      title: t('offset.acceptOffsetTitle'),\n      content: t('offset.acceptOffsetConfirmationMessage'),\n      type: ModalTypes.Confirmation,\n      onAgree: async (currentModal) => {\n        modalStore.update({ ...currentModal, isLoading: true });\n        const response = await updateOffset(getStatus(OffsetStatus.Accepted), rowData.id);\n        if (response) {\n          fetchMarketplace();\n          modalStore.push({\n            title: t('offset.acceptOffsetTitle'),\n            content: t('offset.acceptOffsetSuccessMessage', { projectName: rowData.project.name }),\n            type: ModalTypes.Info,\n          });\n        }\n      },\n    });\n  };\n  const rejectOffset = (rowData: ResponseOffset) => {\n    modalStore.push({\n      title: t('offset.rejectOffsetTitle'),\n      content: t('offset.rejectOffsetConfirmationMessage'),\n      type: ModalTypes.Confirmation,\n      onAgree: async (currentModal) => {\n        modalStore.update({ ...currentModal, isLoading: true });\n        const response = await updateOffset(getStatus(OffsetStatus.Rejected), rowData.id);\n        if (response) {\n          fetchMarketplace();\n          modalStore.push({\n            title: t('offset.rejectOffsetTitle'),\n            content: t('offset.rejectOffsetSuccessMessage', { projectName: rowData.project.name }),\n            type: ModalTypes.Info,\n          });\n        }\n      },\n    });\n  };\n  return { acceptOffset, rejectOffset };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}