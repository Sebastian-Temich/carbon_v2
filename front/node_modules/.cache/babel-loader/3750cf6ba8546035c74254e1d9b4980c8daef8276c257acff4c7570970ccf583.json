{"ast":null,"code":"import{useState}from'react';import{useParams}from'react-router-dom';import{useTranslation}from'react-i18next';import{DataTable}from'primereact/datatable';import{useTranslatedTableColumnCells}from'@hooks/translation-hook';import{useTableColumns}from'@hooks/use-table-columns';import{projectLogsTableColumnCells}from'./table/project-logs-table-column-cells';import{useProjectLogs}from'./hooks/use-project-logs';import{ProjectBasicLogs}from'./components/project-basic-logs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const rowsPerPageOptions=[10,25,50,100];export const ProjectLogs=()=>{const{t}=useTranslation();const{projectId}=useParams();const[paginatiorFirst,setPaginatorFirst]=useState(1);const[paginatorPage,setPaginatorPage]=useState(0);const[paginatorPerPage,setPaginatorPerPage]=useState(10);const{translatedColumnCells}=useTranslatedTableColumnCells({columnCells:projectLogsTableColumnCells});const{parsedTableOffsetLogs,isRefetchingOffsetLogs,isLoadingOffsetLogs,offsetLogsCount,projectGeneralInfo}=useProjectLogs({projectId,offsetLogsPage:paginatorPage+1,offsetLogsPerPage:paginatorPerPage});const{tableColumns}=useTableColumns({tableColumnsCells:translatedColumnCells});const isAnyLoadingOffsetLogs=isRefetchingOffsetLogs||isLoadingOffsetLogs;const onPageChange=e=>{if(isAnyLoadingOffsetLogs)return;setPaginatorPerPage(e.rows);setPaginatorFirst(e.first);setPaginatorPage(e.page||0);};return/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 car-component\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card car-container\",children:[/*#__PURE__*/_jsx(ProjectBasicLogs,{projectGeneralInfo:projectGeneralInfo,isLoading:isLoadingOffsetLogs}),/*#__PURE__*/_jsx(DataTable,{header:t('transactions'),loading:isAnyLoadingOffsetLogs,value:parsedTableOffsetLogs,responsiveLayout:\"stack\",showGridlines:true,paginator:true,lazy:true,rows:paginatorPerPage,totalRecords:offsetLogsCount,onPage:onPageChange,first:paginatiorFirst,rowsPerPageOptions:rowsPerPageOptions,children:tableColumns})]})})});};","map":{"version":3,"names":["useState","useParams","useTranslation","DataTable","useTranslatedTableColumnCells","useTableColumns","projectLogsTableColumnCells","useProjectLogs","ProjectBasicLogs","jsx","_jsx","jsxs","_jsxs","rowsPerPageOptions","ProjectLogs","t","projectId","paginatiorFirst","setPaginatorFirst","paginatorPage","setPaginatorPage","paginatorPerPage","setPaginatorPerPage","translatedColumnCells","columnCells","parsedTableOffsetLogs","isRefetchingOffsetLogs","isLoadingOffsetLogs","offsetLogsCount","projectGeneralInfo","offsetLogsPage","offsetLogsPerPage","tableColumns","tableColumnsCells","isAnyLoadingOffsetLogs","onPageChange","e","rows","first","page","className","children","isLoading","header","loading","value","responsiveLayout","showGridlines","paginator","lazy","totalRecords","onPage"],"sources":["/Users/st/Documents/carbon/front/src/screens/project-logs/project-logs.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { DataTable, DataTablePFSEvent } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { useTranslatedTableColumnCells } from '@hooks/translation-hook';\nimport { useTableColumns } from '@hooks/use-table-columns';\nimport { projectLogsTableColumnCells } from './table/project-logs-table-column-cells';\nimport { useProjectLogs } from './hooks/use-project-logs';\nimport { ProjectBasicLogs } from './components/project-basic-logs';\n\nconst rowsPerPageOptions = [10, 25, 50, 100];\n\nexport const ProjectLogs = () => {\n  const { t } = useTranslation();\n  const { projectId } = useParams();\n  const [paginatiorFirst, setPaginatorFirst] = useState(1);\n  const [paginatorPage, setPaginatorPage] = useState(0);\n  const [paginatorPerPage, setPaginatorPerPage] = useState(10);\n  const { translatedColumnCells } = useTranslatedTableColumnCells({\n    columnCells: projectLogsTableColumnCells,\n  });\n  const {\n    parsedTableOffsetLogs,\n    isRefetchingOffsetLogs,\n    isLoadingOffsetLogs,\n    offsetLogsCount,\n    projectGeneralInfo,\n  } = useProjectLogs({\n    projectId,\n    offsetLogsPage: paginatorPage + 1,\n    offsetLogsPerPage: paginatorPerPage,\n  });\n  const { tableColumns } = useTableColumns({ tableColumnsCells: translatedColumnCells });\n  const isAnyLoadingOffsetLogs = isRefetchingOffsetLogs || isLoadingOffsetLogs;\n\n  const onPageChange = (e: DataTablePFSEvent) => {\n    if (isAnyLoadingOffsetLogs) return;\n\n    setPaginatorPerPage(e.rows);\n    setPaginatorFirst(e.first);\n    setPaginatorPage(e.page || 0);\n  };\n\n  return (\n    <div className=\"grid\">\n      <div className=\"col-12 car-component\">\n        <div className=\"card car-container\">\n          <ProjectBasicLogs\n            projectGeneralInfo={projectGeneralInfo}\n            isLoading={isLoadingOffsetLogs}\n          />\n          <DataTable\n            header={t('transactions')}\n            loading={isAnyLoadingOffsetLogs}\n            value={parsedTableOffsetLogs}\n            responsiveLayout=\"stack\"\n            showGridlines\n            paginator\n            lazy\n            rows={paginatorPerPage}\n            totalRecords={offsetLogsCount}\n            onPage={onPageChange}\n            first={paginatiorFirst}\n            rowsPerPageOptions={rowsPerPageOptions}\n          >\n            {tableColumns}\n          </DataTable>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,SAAS,KAA2B,sBAAsB,CAEnE,OAASC,6BAA6B,KAAQ,yBAAyB,CACvE,OAASC,eAAe,KAAQ,0BAA0B,CAC1D,OAASC,2BAA2B,KAAQ,yCAAyC,CACrF,OAASC,cAAc,KAAQ,0BAA0B,CACzD,OAASC,gBAAgB,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnE,KAAM,CAAAC,kBAAkB,CAAG,CAAC,EAAE,CAAE,EAAE,CAAE,EAAE,CAAE,GAAG,CAAC,CAE5C,MAAO,MAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAEC,CAAE,CAAC,CAAGb,cAAc,CAAC,CAAC,CAC9B,KAAM,CAAEc,SAAU,CAAC,CAAGf,SAAS,CAAC,CAAC,CACjC,KAAM,CAACgB,eAAe,CAAEC,iBAAiB,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CACxD,KAAM,CAACmB,aAAa,CAAEC,gBAAgB,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAACqB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAAEuB,qBAAsB,CAAC,CAAGnB,6BAA6B,CAAC,CAC9DoB,WAAW,CAAElB,2BACf,CAAC,CAAC,CACF,KAAM,CACJmB,qBAAqB,CACrBC,sBAAsB,CACtBC,mBAAmB,CACnBC,eAAe,CACfC,kBACF,CAAC,CAAGtB,cAAc,CAAC,CACjBS,SAAS,CACTc,cAAc,CAAEX,aAAa,CAAG,CAAC,CACjCY,iBAAiB,CAAEV,gBACrB,CAAC,CAAC,CACF,KAAM,CAAEW,YAAa,CAAC,CAAG3B,eAAe,CAAC,CAAE4B,iBAAiB,CAAEV,qBAAsB,CAAC,CAAC,CACtF,KAAM,CAAAW,sBAAsB,CAAGR,sBAAsB,EAAIC,mBAAmB,CAE5E,KAAM,CAAAQ,YAAY,CAAIC,CAAoB,EAAK,CAC7C,GAAIF,sBAAsB,CAAE,OAE5BZ,mBAAmB,CAACc,CAAC,CAACC,IAAI,CAAC,CAC3BnB,iBAAiB,CAACkB,CAAC,CAACE,KAAK,CAAC,CAC1BlB,gBAAgB,CAACgB,CAAC,CAACG,IAAI,EAAI,CAAC,CAAC,CAC/B,CAAC,CAED,mBACE7B,IAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB/B,IAAA,QAAK8B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnC7B,KAAA,QAAK4B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC/B,IAAA,CAACF,gBAAgB,EACfqB,kBAAkB,CAAEA,kBAAmB,CACvCa,SAAS,CAAEf,mBAAoB,CAChC,CAAC,cACFjB,IAAA,CAACP,SAAS,EACRwC,MAAM,CAAE5B,CAAC,CAAC,cAAc,CAAE,CAC1B6B,OAAO,CAAEV,sBAAuB,CAChCW,KAAK,CAAEpB,qBAAsB,CAC7BqB,gBAAgB,CAAC,OAAO,CACxBC,aAAa,MACbC,SAAS,MACTC,IAAI,MACJZ,IAAI,CAAEhB,gBAAiB,CACvB6B,YAAY,CAAEtB,eAAgB,CAC9BuB,MAAM,CAAEhB,YAAa,CACrBG,KAAK,CAAErB,eAAgB,CACvBJ,kBAAkB,CAAEA,kBAAmB,CAAA4B,QAAA,CAEtCT,YAAY,CACJ,CAAC,EACT,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}