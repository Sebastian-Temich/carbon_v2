{"ast":null,"code":"import{Button}from'primereact/button';import{useTranslation}from'react-i18next';import{observer}from'mobx-react';import{useFormik}from'formik';import{useSellBuyOffsets}from'@components/sell-buy-offsets/sell-buy-offsets';import{InputNumber}from'@components/form/input-number';import{ValidationSellOffsetSchema}from'./validation/validation-sell-offset-schema';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SellOffsets=_ref=>{var _String,_String2;let{onCloseDialog,rawData,setSellOpenDialog}=_ref;const{t}=useTranslation();// This is taken from mobax store\nconst{sellOffset}=useSellBuyOffsets();const{values,errors,touched,handleChange,handleSubmit,handleBlur}=useFormik({initialValues:{unitCount:rawData.unitCount,unitPrice:rawData.unitPrice},enableReinitialize:true,validationSchema:ValidationSellOffsetSchema,onSubmit:async()=>{if(values!==undefined){const unitPrice=Number(values.unitPrice);const unitCount=Number(values.unitCount);const payloadSellOffset={unitPrice,unitCount};sellOffset(payloadSellOffset,rawData.id,setSellOpenDialog);}}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card border-none p-1\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"text-center\",children:\"Sell Unit\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-fluid grid formgrid form\",children:[/*#__PURE__*/_jsx(InputNumber,{id:\"unitCount\",mt:\"mt-2\",label:t('investorwallet.unitCount'),values:values.unitCount,onChange:handleChange,onBlur:handleBlur,min:1,max:rawData.unitCount,errors:t((_String=String(errors.unitCount))!==null&&_String!==void 0?_String:'')==='undefined'?'':t(String(errors.unitCount)),touched:touched.unitCount}),/*#__PURE__*/_jsx(InputNumber,{id:\"unitPrice\",mt:\"mt-2\",label:\"\".concat(t('investorwallet.unitPrice'),\" \").concat(rawData.currency.code),values:values.unitPrice,onChange:handleChange,onBlur:handleBlur,min:1,max:10000,errors:t((_String2=String(errors.unitPrice))!==null&&_String2!==void 0?_String2:'')==='undefined'?'':t(String(errors.unitPrice)),touched:touched.unitPrice}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid p-fluid ml-2 mr-2 pb-3 button-offset-inline\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field mr-2\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",label:t('button.sellButtonLabel')})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(Button,{type:\"button\",label:t('button.cancel'),onClick:()=>{onCloseDialog();},className:\"p-button-secondary\"})})]})]})]});};export default observer(SellOffsets);","map":{"version":3,"names":["Button","useTranslation","observer","useFormik","useSellBuyOffsets","InputNumber","ValidationSellOffsetSchema","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SellOffsets","_ref","_String","_String2","onCloseDialog","rawData","setSellOpenDialog","t","sellOffset","values","errors","touched","handleChange","handleSubmit","handleBlur","initialValues","unitCount","unitPrice","enableReinitialize","validationSchema","onSubmit","undefined","Number","payloadSellOffset","id","children","className","mt","label","onChange","onBlur","min","max","String","concat","currency","code","type","onClick"],"sources":["/Users/st/Documents/carbon/front/src/screens/investor-wallet/sellOffsets/sellOffsets.tsx"],"sourcesContent":["import { Button } from 'primereact/button';\nimport { useTranslation } from 'react-i18next';\n\nimport { observer } from 'mobx-react';\n\nimport { useFormik } from 'formik';\nimport { useSellBuyOffsets } from '@components/sell-buy-offsets/sell-buy-offsets';\nimport { InputNumber } from '@components/form/input-number';\nimport { Dispatch, FC, SetStateAction } from 'react';\nimport { ValidationSellOffsetSchema } from './validation/validation-sell-offset-schema';\n\nconst SellOffsets: FC<{\n  onCloseDialog: () => void;\n  setSellOpenDialog: (value: boolean) => void;\n  rawData: {\n    id: string;\n    unitCount: Number;\n    unitPrice: Number;\n    currency: { id: Number; code: string };\n  };\n}> = ({ onCloseDialog, rawData, setSellOpenDialog }) => {\n  const { t } = useTranslation();\n  // This is taken from mobax store\n  const { sellOffset } = useSellBuyOffsets();\n\n  const { values, errors, touched, handleChange, handleSubmit, handleBlur } = useFormik({\n    initialValues: {\n      unitCount: rawData.unitCount,\n      unitPrice: rawData.unitPrice,\n    },\n    enableReinitialize: true,\n    validationSchema: ValidationSellOffsetSchema,\n    onSubmit: async () => {\n      if (values !== undefined) {\n        const unitPrice = Number(values.unitPrice);\n        const unitCount = Number(values.unitCount);\n        const payloadSellOffset = {\n          unitPrice,\n          unitCount,\n        };\n        sellOffset(payloadSellOffset, rawData.id, setSellOpenDialog);\n      }\n    },\n  });\n  return (\n    <>\n      <div className=\"card border-none p-1\">\n        <h5 className=\"text-center\">Sell Unit</h5>\n      </div>\n      <form onSubmit={handleSubmit} className=\"p-fluid grid formgrid form\">\n        <InputNumber\n          id=\"unitCount\"\n          mt=\"mt-2\"\n          label={t('investorwallet.unitCount')}\n          values={values.unitCount}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          min={1}\n          max={rawData.unitCount}\n          errors={\n            t(String(errors.unitCount) ?? '') === 'undefined' ? '' : t(String(errors.unitCount))\n          }\n          touched={touched.unitCount}\n        />\n        <InputNumber\n          id=\"unitPrice\"\n          mt=\"mt-2\"\n          label={`${t('investorwallet.unitPrice')} ${rawData.currency.code}`}\n          values={values.unitPrice}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          min={1}\n          max={10_000}\n          errors={\n            t(String(errors.unitPrice) ?? '') === 'undefined' ? '' : t(String(errors.unitPrice))\n          }\n          touched={touched.unitPrice}\n        />\n        <div className=\"grid p-fluid ml-2 mr-2 pb-3 button-offset-inline\">\n          <div className=\"field mr-2\">\n            <Button type=\"submit\" label={t('button.sellButtonLabel')} />\n          </div>\n          <div className=\"field\">\n            <Button\n              type=\"button\"\n              label={t('button.cancel')}\n              onClick={() => {\n                onCloseDialog();\n              }}\n              className=\"p-button-secondary\"\n            />\n          </div>\n        </div>\n      </form>\n    </>\n  );\n};\nexport default observer(SellOffsets);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}