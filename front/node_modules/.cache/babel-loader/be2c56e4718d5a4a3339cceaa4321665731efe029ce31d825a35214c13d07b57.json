{"ast":null,"code":"import qs from'query-string';import{ApiResponse}from'@custom-types/api-types';import{createUnsuccessfulApiResponse}from'@services/error-service';import{parsePaginationHeader}from'@services/pagination.service';import{axiosAuthorized}from'./api';export const postOffset=async payload=>{try{const response=await axiosAuthorized.post('/offsets',payload);return new ApiResponse({data:response.data});}catch(error){return createUnsuccessfulApiResponse(error);}};export const getOffsets=async args=>{try{var _response$headers;const params=qs.stringify(args);const response=await axiosAuthorized.get(\"/offsets?\".concat(params));const pagination=parsePaginationHeader(response===null||response===void 0?void 0:(_response$headers=response.headers)===null||_response$headers===void 0?void 0:_response$headers['x-pagination']);return new ApiResponse({data:response.data,pagination});}catch(error){return createUnsuccessfulApiResponse(error);}};export const getOffset=async offsetId=>{try{const response=await axiosAuthorized.get(\"/offsets/\".concat(offsetId));return response===null||response===void 0?void 0:response.data;}catch(_unused){return undefined;}};export const UpdateOffsetList=async(payload,offsetId)=>{try{const response=await axiosAuthorized.patch(\"/offsets/\".concat(offsetId),payload);return new ApiResponse({data:response.data});}catch(error){return createUnsuccessfulApiResponse(error);}};export const RetireOffsetUnits=async(payload,offsetId)=>{try{const response=await axiosAuthorized.post(\"/offsets/\".concat(offsetId,\"/units/retire\"),payload);return new ApiResponse({data:response.data});}catch(error){return createUnsuccessfulApiResponse(error);}};export const downloadUnitRetirementConfirmation=async offsetId=>{try{const response=await axiosAuthorized.get(\"/offsets/\".concat(offsetId,\"/summary-file\"),{responseType:'blob'});return response.data;}catch(_unused2){return undefined;}};","map":{"version":3,"names":["qs","ApiResponse","createUnsuccessfulApiResponse","parsePaginationHeader","axiosAuthorized","postOffset","payload","response","post","data","error","getOffsets","args","_response$headers","params","stringify","get","concat","pagination","headers","getOffset","offsetId","_unused","undefined","UpdateOffsetList","patch","RetireOffsetUnits","downloadUnitRetirementConfirmation","responseType","_unused2"],"sources":["/Users/st/Documents/carbon/front/src/api/offsets-api.ts"],"sourcesContent":["import qs from 'query-string';\n\nimport {\n  PatchResponseOffset,\n  PostOffsetsProps,\n  ResponseOffset,\n  RetireOffsetUnitsProps,\n} from '@custom-types/offsets-types';\n\nimport { ApiResponse } from '@custom-types/api-types';\nimport { createUnsuccessfulApiResponse } from '@services/error-service';\nimport { parsePaginationHeader } from '@services/pagination.service';\nimport { GetFilterArgs } from '@custom-types/filter-types';\nimport { axiosAuthorized } from './api';\n\nexport const postOffset = async (\n  payload: PostOffsetsProps,\n): Promise<ApiResponse<ResponseOffset>> => {\n  try {\n    const response = await axiosAuthorized.post('/offsets', payload);\n    return new ApiResponse<ResponseOffset>({ data: response.data });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const getOffsets = async (args: GetFilterArgs): Promise<ApiResponse<ResponseOffset[]>> => {\n  try {\n    const params = qs.stringify(args);\n    const response = await axiosAuthorized.get<ResponseOffset[]>(`/offsets?${params}`);\n    const pagination = parsePaginationHeader(response?.headers?.['x-pagination']);\n    return new ApiResponse<ResponseOffset[]>({ data: response.data, pagination });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const getOffset = async (\n  offsetId: string | undefined,\n): Promise<ResponseOffset | undefined> => {\n  try {\n    const response = await axiosAuthorized.get<ResponseOffset>(`/offsets/${offsetId}`);\n    return response?.data;\n  } catch {\n    return undefined;\n  }\n};\n\nexport const UpdateOffsetList = async (\n  payload: PatchResponseOffset,\n  offsetId: string | undefined,\n): Promise<ApiResponse<ResponseOffset>> => {\n  try {\n    const response = await axiosAuthorized.patch(`/offsets/${offsetId}`, payload);\n    return new ApiResponse<ResponseOffset>({ data: response.data });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const RetireOffsetUnits = async (\n  payload: RetireOffsetUnitsProps,\n  offsetId: string | undefined,\n): Promise<ApiResponse<ResponseOffset>> => {\n  try {\n    const response = await axiosAuthorized.post(`/offsets/${offsetId}/units/retire`, payload);\n    return new ApiResponse<ResponseOffset>({ data: response.data });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const downloadUnitRetirementConfirmation = async (\n  offsetId: string,\n): Promise<string | undefined> => {\n  try {\n    const response = await axiosAuthorized.get(`/offsets/${offsetId}/summary-file`, {\n      responseType: 'blob',\n    });\n    return response.data;\n  } catch {\n    return undefined;\n  }\n};\n"],"mappings":"AAAA,MAAO,CAAAA,EAAE,KAAM,cAAc,CAS7B,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,6BAA6B,KAAQ,yBAAyB,CACvE,OAASC,qBAAqB,KAAQ,8BAA8B,CAEpE,OAASC,eAAe,KAAQ,OAAO,CAEvC,MAAO,MAAM,CAAAC,UAAU,CAAG,KACxB,CAAAC,OAAyB,EACgB,CACzC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAH,eAAe,CAACI,IAAI,CAAC,UAAU,CAAEF,OAAO,CAAC,CAChE,MAAO,IAAI,CAAAL,WAAW,CAAiB,CAAEQ,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAAC,CACjE,CAAE,MAAOC,KAAK,CAAE,CACd,MAAO,CAAAR,6BAA6B,CAACQ,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,UAAU,CAAG,KAAO,CAAAC,IAAmB,EAA6C,CAC/F,GAAI,KAAAC,iBAAA,CACF,KAAM,CAAAC,MAAM,CAAGd,EAAE,CAACe,SAAS,CAACH,IAAI,CAAC,CACjC,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAH,eAAe,CAACY,GAAG,aAAAC,MAAA,CAA+BH,MAAM,CAAE,CAAC,CAClF,KAAM,CAAAI,UAAU,CAAGf,qBAAqB,CAACI,QAAQ,SAARA,QAAQ,kBAAAM,iBAAA,CAARN,QAAQ,CAAEY,OAAO,UAAAN,iBAAA,iBAAjBA,iBAAA,CAAoB,cAAc,CAAC,CAAC,CAC7E,MAAO,IAAI,CAAAZ,WAAW,CAAmB,CAAEQ,IAAI,CAAEF,QAAQ,CAACE,IAAI,CAAES,UAAW,CAAC,CAAC,CAC/E,CAAE,MAAOR,KAAK,CAAE,CACd,MAAO,CAAAR,6BAA6B,CAACQ,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAU,SAAS,CAAG,KACvB,CAAAC,QAA4B,EACY,CACxC,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAH,eAAe,CAACY,GAAG,aAAAC,MAAA,CAA6BI,QAAQ,CAAE,CAAC,CAClF,MAAO,CAAAd,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEE,IAAI,CACvB,CAAE,MAAAa,OAAA,CAAM,CACN,MAAO,CAAAC,SAAS,CAClB,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAC9BlB,OAA4B,CAC5Be,QAA4B,GACa,CACzC,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAH,eAAe,CAACqB,KAAK,aAAAR,MAAA,CAAaI,QAAQ,EAAIf,OAAO,CAAC,CAC7E,MAAO,IAAI,CAAAL,WAAW,CAAiB,CAAEQ,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAAC,CACjE,CAAE,MAAOC,KAAK,CAAE,CACd,MAAO,CAAAR,6BAA6B,CAACQ,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAgB,iBAAiB,CAAG,KAAAA,CAC/BpB,OAA+B,CAC/Be,QAA4B,GACa,CACzC,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAH,eAAe,CAACI,IAAI,aAAAS,MAAA,CAAaI,QAAQ,kBAAiBf,OAAO,CAAC,CACzF,MAAO,IAAI,CAAAL,WAAW,CAAiB,CAAEQ,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAAC,CACjE,CAAE,MAAOC,KAAK,CAAE,CACd,MAAO,CAAAR,6BAA6B,CAACQ,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAiB,kCAAkC,CAAG,KAChD,CAAAN,QAAgB,EACgB,CAChC,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAH,eAAe,CAACY,GAAG,aAAAC,MAAA,CAAaI,QAAQ,kBAAiB,CAC9EO,YAAY,CAAE,MAChB,CAAC,CAAC,CACF,MAAO,CAAArB,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAAoB,QAAA,CAAM,CACN,MAAO,CAAAN,SAAS,CAClB,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}