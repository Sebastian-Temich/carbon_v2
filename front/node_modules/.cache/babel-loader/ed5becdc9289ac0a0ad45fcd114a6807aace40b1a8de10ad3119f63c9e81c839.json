{"ast":null,"code":"import{MultiSelect}from'@components/form/multiselect';import{rootStore}from'@store/root-store';import{observer}from'mobx-react';import{Button}from'primereact/button';import{DataViewLayoutOptions}from'primereact/dataview';import{InputText}from'primereact/inputtext';import{MultiStateCheckbox}from'primereact/multistatecheckbox';import{useEffect,useState}from'react';import{useTranslation}from'react-i18next';import{AdvanceFilterMarketPlace}from'../advance-filter/advance-filter';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const TableHeader=observer(_ref=>{let{setLayout,layout,displayMarketplaceCheckbox,filterTransation,moderatorFilter}=_ref;const[openDialogFilter,setOpenDialogFilter]=useState(false);const{formData}=rootStore.dataFormStore;const{t}=useTranslation();const{filter,setFilter,filterCount}=rootStore.filterStore;const{fetchProjects}=rootStore.projectStore;const{fetchMarketplace}=rootStore.marketplaceStore;const[innerWidth,setInnerWidth]=useState(window.innerWidth);const windowSizeMd=innerWidth>768&&true;const checkboxMarketplaceOptions=[{label:t('checkbox.developerOffersLabel'),icon:'pi pi-check',value:true},{label:t('checkbox.otherOffersLabel'),icon:'pi pi-times',value:false},{label:t('checkbox.allLabel'),icon:'pi pi-globe',value:undefined}];const displayCheckbox=checkboxMarketplaceOptions.filter(elem=>elem.value===filter.isOwnerOriginal);useEffect(()=>{const handleWindowResize=()=>setInnerWidth(window.innerWidth);window.addEventListener('resize',handleWindowResize);return()=>window.removeEventListener('resize',handleWindowResize);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter_header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter_advance\",style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"search_field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-inputgroup\",children:[/*#__PURE__*/_jsx(Button,{style:{minWidth:'65px'},icon:\"pi pi-filter-fill\",badge:filterCount,onClick:()=>setOpenDialogFilter(true)}),/*#__PURE__*/_jsx(InputText,{value:filterTransation?filter.name||'':filter.projectName||'',type:\"text\",placeholder:t('common.search'),onKeyDown:e=>{if(e.key==='Enter'){if(filterTransation){fetchProjects();}else{fetchMarketplace();}}},onChange:e=>{if(filterTransation){setFilter(e.target.value,'default','name');}else{setFilter(e.target.value,'default','projectName');}}}),/*#__PURE__*/_jsx(Button,{label:t('common.search'),onClick:()=>{if(filterTransation){fetchProjects();}else{fetchMarketplace();}}})]})}),displayMarketplaceCheckbox?/*#__PURE__*/_jsx(\"div\",{className:\"multi_checkbox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-checkbox m-0\",children:[/*#__PURE__*/_jsx(MultiStateCheckbox,{value:filter.isOwnerOriginal,options:checkboxMarketplaceOptions,optionLabel:\"label\",optionValue:\"value\",onChange:e=>{setFilter(e.value,'default','isOwnerOriginal');fetchMarketplace();}}),/*#__PURE__*/_jsx(\"label\",{children:displayCheckbox[0].label})]})}):null,moderatorFilter&&/*#__PURE__*/_jsx(\"div\",{className:\"select\",children:/*#__PURE__*/_jsx(MultiSelect,{mt:\"mt-3\",id:\"statusIds\",maxSelectedLabels:7,label:t('filter.status'),values:filter.statusIds,options:formData.status,onChange:e=>{setFilter(e.target.value,'default','statusIds');fetchMarketplace();},optionLabel:\"label\",required:false,placeholder:t('filter.statusPlaceholder')})})]}),windowSizeMd&&setLayout&&/*#__PURE__*/_jsx(\"div\",{className:\"layout_option\",style:{textAlign:'right'},children:/*#__PURE__*/_jsx(DataViewLayoutOptions,{layout:layout,onChange:e=>{setLayout(e.value);}})})]}),/*#__PURE__*/_jsx(AdvanceFilterMarketPlace,{filterTransation:filterTransation,openDialog:openDialogFilter,onClose:()=>setOpenDialogFilter(false)})]});});","map":{"version":3,"names":["MultiSelect","rootStore","observer","Button","DataViewLayoutOptions","InputText","MultiStateCheckbox","useEffect","useState","useTranslation","AdvanceFilterMarketPlace","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableHeader","_ref","setLayout","layout","displayMarketplaceCheckbox","filterTransation","moderatorFilter","openDialogFilter","setOpenDialogFilter","formData","dataFormStore","t","filter","setFilter","filterCount","filterStore","fetchProjects","projectStore","fetchMarketplace","marketplaceStore","innerWidth","setInnerWidth","window","windowSizeMd","checkboxMarketplaceOptions","label","icon","value","undefined","displayCheckbox","elem","isOwnerOriginal","handleWindowResize","addEventListener","removeEventListener","children","className","style","textAlign","minWidth","badge","onClick","name","projectName","type","placeholder","onKeyDown","e","key","onChange","target","options","optionLabel","optionValue","mt","id","maxSelectedLabels","values","statusIds","status","required","openDialog","onClose"],"sources":["/Users/st/Documents/carbon/front/src/components/table/table-header.tsx"],"sourcesContent":["import { MultiSelect } from '@components/form/multiselect';\nimport { rootStore } from '@store/root-store';\nimport { observer } from 'mobx-react';\nimport { Button } from 'primereact/button';\nimport { DataViewLayoutOptions, DataViewLayoutType } from 'primereact/dataview';\nimport { DropdownChangeParams } from 'primereact/dropdown';\nimport { InputText } from 'primereact/inputtext';\nimport { MultiStateCheckbox } from 'primereact/multistatecheckbox';\nimport { ChangeEvent, FC, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AdvanceFilterMarketPlace } from '../advance-filter/advance-filter';\n\ninterface TableHeaderProps {\n  setLayout?: (layout: DataViewLayoutType) => void;\n  layout?: DataViewLayoutType;\n  filterTransation?: boolean;\n  displayMarketplaceCheckbox?: boolean;\n  moderatorFilter?: boolean;\n}\n\nexport const TableHeader: FC<TableHeaderProps> = observer(\n  ({ setLayout, layout, displayMarketplaceCheckbox, filterTransation, moderatorFilter }) => {\n    const [openDialogFilter, setOpenDialogFilter] = useState(false);\n    const { formData } = rootStore.dataFormStore;\n    const { t } = useTranslation();\n    const { filter, setFilter, filterCount } = rootStore.filterStore;\n    const { fetchProjects } = rootStore.projectStore;\n    const { fetchMarketplace } = rootStore.marketplaceStore;\n    const [innerWidth, setInnerWidth] = useState<number>(window.innerWidth);\n    const windowSizeMd = innerWidth > 768 && true;\n\n    const checkboxMarketplaceOptions = [\n      { label: t('checkbox.developerOffersLabel'), icon: 'pi pi-check', value: true },\n      { label: t('checkbox.otherOffersLabel'), icon: 'pi pi-times', value: false },\n      { label: t('checkbox.allLabel'), icon: 'pi pi-globe', value: undefined },\n    ];\n\n    const displayCheckbox = checkboxMarketplaceOptions.filter(\n      (elem) => elem.value === filter.isOwnerOriginal,\n    );\n\n    useEffect(() => {\n      const handleWindowResize = () => setInnerWidth(window.innerWidth);\n      window.addEventListener('resize', handleWindowResize);\n      return () => window.removeEventListener('resize', handleWindowResize);\n    }, []);\n    return (\n      <>\n        <div className=\"filter_header\">\n          <div className=\"filter_advance\" style={{ textAlign: 'left' }}>\n            <div className=\"search_field\">\n              <div className=\"p-inputgroup\">\n                <Button\n                  style={{ minWidth: '65px' }}\n                  icon=\"pi pi-filter-fill\"\n                  badge={filterCount as unknown as string}\n                  onClick={() => setOpenDialogFilter(true)}\n                />\n                <InputText\n                  value={filterTransation ? filter.name || '' : filter.projectName || ''}\n                  type=\"text\"\n                  placeholder={t('common.search')}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      if (filterTransation) {\n                        fetchProjects();\n                      } else {\n                        fetchMarketplace();\n                      }\n                    }\n                  }}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) => {\n                    if (filterTransation) {\n                      setFilter(e.target.value, 'default', 'name');\n                    } else {\n                      setFilter(e.target.value, 'default', 'projectName');\n                    }\n                  }}\n                />\n                <Button\n                  label={t('common.search')}\n                  onClick={() => {\n                    if (filterTransation) {\n                      fetchProjects();\n                    } else {\n                      fetchMarketplace();\n                    }\n                  }}\n                />\n              </div>\n            </div>\n            {displayMarketplaceCheckbox ? (\n              <div className=\"multi_checkbox\">\n                <div className=\"field-checkbox m-0\">\n                  <MultiStateCheckbox\n                    value={filter.isOwnerOriginal}\n                    options={checkboxMarketplaceOptions}\n                    optionLabel=\"label\"\n                    optionValue=\"value\"\n                    onChange={(e) => {\n                      setFilter(e.value, 'default', 'isOwnerOriginal');\n                      fetchMarketplace();\n                    }}\n                  />\n                  <label>{displayCheckbox[0].label}</label>\n                </div>\n              </div>\n            ) : null}\n            {moderatorFilter && (\n              <div className=\"select\">\n                <MultiSelect\n                  mt=\"mt-3\"\n                  id=\"statusIds\"\n                  maxSelectedLabels={7}\n                  label={t('filter.status')}\n                  values={filter.statusIds}\n                  options={formData.status}\n                  onChange={(e: DropdownChangeParams) => {\n                    setFilter(e.target.value as string, 'default', 'statusIds');\n                    fetchMarketplace();\n                  }}\n                  optionLabel=\"label\"\n                  required={false}\n                  placeholder={t('filter.statusPlaceholder')}\n                />\n              </div>\n            )}\n          </div>\n          {windowSizeMd && setLayout && (\n            <div className=\"layout_option\" style={{ textAlign: 'right' }}>\n              <DataViewLayoutOptions\n                layout={layout}\n                onChange={(e) => {\n                  setLayout(e.value);\n                }}\n              />\n            </div>\n          )}\n        </div>\n        <AdvanceFilterMarketPlace\n          filterTransation={filterTransation}\n          openDialog={openDialogFilter}\n          onClose={() => setOpenDialogFilter(false)}\n        />\n      </>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}