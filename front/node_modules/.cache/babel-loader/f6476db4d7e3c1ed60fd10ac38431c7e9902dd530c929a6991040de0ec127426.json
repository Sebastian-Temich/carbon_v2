{"ast":null,"code":"import{makeAutoObservable,runInAction}from'mobx';import{getOffset,UpdateOffsetList}from'@api/offsets-api';import{patchProject}from'@api/project-api';class OffsetDetailsStore{constructor(){this._loaded=false;this._offsetDetails=null;this._projectDetails=undefined;this.fetchOffset=async offsetId=>{this.loaded=false;const fetchedOffsetDetails=await getOffset(offsetId);if(fetchedOffsetDetails){runInAction(()=>{this._offsetDetails=fetchedOffsetDetails;});}this.loaded=true;};this.updateOffset=async(payload,id)=>{const response=await UpdateOffsetList(payload,id);if(response.isSuccessful()){runInAction(()=>{this._offsetDetails=response.data;});}return response;};this.updateProject=async(payload,projectId)=>{const response=await patchProject(payload,projectId);if(response.isSuccessful()){runInAction(()=>{this._projectDetails=response.data;});}return response;};makeAutoObservable(this);}set loaded(loaded){this._loaded=loaded;}get loaded(){return this._loaded;}get offsetDetails(){return this._offsetDetails;}get projectDetails(){return this._projectDetails;}}export const offsetDetailsStore=new OffsetDetailsStore();","map":{"version":3,"names":["makeAutoObservable","runInAction","getOffset","UpdateOffsetList","patchProject","OffsetDetailsStore","constructor","_loaded","_offsetDetails","_projectDetails","undefined","fetchOffset","offsetId","loaded","fetchedOffsetDetails","updateOffset","payload","id","response","isSuccessful","data","updateProject","projectId","offsetDetails","projectDetails","offsetDetailsStore"],"sources":["/Users/st/Documents/carbon/front/src/store/offset-store.ts"],"sourcesContent":["import { makeAutoObservable, runInAction } from 'mobx';\n\nimport { getOffset, UpdateOffsetList } from '@api/offsets-api';\nimport { PatchResponseOffset, ResponseOffset } from '@custom-types/offsets-types';\nimport { PatchProjectPayload, ResponseProjectProps } from '@custom-types/projects-types';\nimport { patchProject } from '@api/project-api';\nimport { ApiResponse } from '@custom-types/api-types';\n\nclass OffsetDetailsStore {\n  private _loaded = false;\n\n  private _offsetDetails: ResponseOffset | null = null;\n\n  private _projectDetails: ResponseProjectProps | undefined = undefined;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  fetchOffset = async (offsetId: string) => {\n    this.loaded = false;\n    const fetchedOffsetDetails = await getOffset(offsetId);\n    if (fetchedOffsetDetails) {\n      runInAction(() => {\n        this._offsetDetails = fetchedOffsetDetails;\n      });\n    }\n    this.loaded = true;\n  };\n\n  updateOffset = async (\n    payload: PatchResponseOffset,\n    id: string | undefined,\n  ): Promise<ApiResponse<ResponseOffset>> => {\n    const response = await UpdateOffsetList(payload, id);\n\n    if (response.isSuccessful()) {\n      runInAction(() => {\n        this._offsetDetails = response.data!;\n      });\n    }\n    return response;\n  };\n\n  updateProject = async (\n    payload: PatchProjectPayload,\n    projectId: string | undefined,\n  ): Promise<ApiResponse<ResponseProjectProps>> => {\n    const response = await patchProject(payload, projectId);\n    if (response.isSuccessful()) {\n      runInAction(() => {\n        this._projectDetails = response.data!;\n      });\n    }\n    return response;\n  };\n\n  set loaded(loaded: boolean) {\n    this._loaded = loaded;\n  }\n\n  get loaded() {\n    return this._loaded;\n  }\n\n  get offsetDetails() {\n    return this._offsetDetails;\n  }\n\n  get projectDetails() {\n    return this._projectDetails;\n  }\n}\n\nexport const offsetDetailsStore = new OffsetDetailsStore();\n"],"mappings":"AAAA,OAASA,kBAAkB,CAAEC,WAAW,KAAQ,MAAM,CAEtD,OAASC,SAAS,CAAEC,gBAAgB,KAAQ,kBAAkB,CAG9D,OAASC,YAAY,KAAQ,kBAAkB,CAG/C,KAAM,CAAAC,kBAAmB,CAOvBC,WAAWA,CAAA,CAAG,MANNC,OAAO,CAAG,KAAK,MAEfC,cAAc,CAA0B,IAAI,MAE5CC,eAAe,CAAqCC,SAAS,MAMrEC,WAAW,CAAG,KAAO,CAAAC,QAAgB,EAAK,CACxC,IAAI,CAACC,MAAM,CAAG,KAAK,CACnB,KAAM,CAAAC,oBAAoB,CAAG,KAAM,CAAAZ,SAAS,CAACU,QAAQ,CAAC,CACtD,GAAIE,oBAAoB,CAAE,CACxBb,WAAW,CAAC,IAAM,CAChB,IAAI,CAACO,cAAc,CAAGM,oBAAoB,CAC5C,CAAC,CAAC,CACJ,CACA,IAAI,CAACD,MAAM,CAAG,IAAI,CACpB,CAAC,MAEDE,YAAY,CAAG,MACbC,OAA4B,CAC5BC,EAAsB,GACmB,CACzC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAf,gBAAgB,CAACa,OAAO,CAAEC,EAAE,CAAC,CAEpD,GAAIC,QAAQ,CAACC,YAAY,CAAC,CAAC,CAAE,CAC3BlB,WAAW,CAAC,IAAM,CAChB,IAAI,CAACO,cAAc,CAAGU,QAAQ,CAACE,IAAK,CACtC,CAAC,CAAC,CACJ,CACA,MAAO,CAAAF,QAAQ,CACjB,CAAC,MAEDG,aAAa,CAAG,MACdL,OAA4B,CAC5BM,SAA6B,GACkB,CAC/C,KAAM,CAAAJ,QAAQ,CAAG,KAAM,CAAAd,YAAY,CAACY,OAAO,CAAEM,SAAS,CAAC,CACvD,GAAIJ,QAAQ,CAACC,YAAY,CAAC,CAAC,CAAE,CAC3BlB,WAAW,CAAC,IAAM,CAChB,IAAI,CAACQ,eAAe,CAAGS,QAAQ,CAACE,IAAK,CACvC,CAAC,CAAC,CACJ,CACA,MAAO,CAAAF,QAAQ,CACjB,CAAC,CAvCClB,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAwCA,GAAI,CAAAa,MAAMA,CAACA,MAAe,CAAE,CAC1B,IAAI,CAACN,OAAO,CAAGM,MAAM,CACvB,CAEA,GAAI,CAAAA,MAAMA,CAAA,CAAG,CACX,MAAO,KAAI,CAACN,OAAO,CACrB,CAEA,GAAI,CAAAgB,aAAaA,CAAA,CAAG,CAClB,MAAO,KAAI,CAACf,cAAc,CAC5B,CAEA,GAAI,CAAAgB,cAAcA,CAAA,CAAG,CACnB,MAAO,KAAI,CAACf,eAAe,CAC7B,CACF,CAEA,MAAO,MAAM,CAAAgB,kBAAkB,CAAG,GAAI,CAAApB,kBAAkB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}