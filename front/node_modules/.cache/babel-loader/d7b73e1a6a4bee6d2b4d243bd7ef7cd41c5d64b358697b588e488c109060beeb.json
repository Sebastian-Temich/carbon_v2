{"ast":null,"code":"import{useState,useEffect}from'react';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{observer}from'mobx-react';import{useTranslation}from'react-i18next';import{useTransactions,useTransactionsTableRowMenuBody}from'@hooks/transactions';import{useTranslatedTableColumnCells}from'@hooks/translation-hook';import{useTableColumns}from'@hooks/use-table-columns';import{rootStore}from'@store/root-store';import{modalStore}from'@store/modal-store';import{useTransactionsTableValue}from'./hooks/use-transactions-table-value';import{transactionsTableColumnCells}from'./table/transactions-table-column-cells';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const rowsPerPageOptions=[10,25,50];export const Transactions=observer(()=>{const[paginatiorFirst,setPaginatorFirst]=useState(1);const[paginatorPage,setPaginatorPage]=useState(0);const[paginatorPerPage,setPaginatorPerPage]=useState(10);const{t}=useTranslation();const{transactions,transactionsCount,fetchTransactions,isLoading}=useTransactions({page:paginatorPage+1,perPage:paginatorPerPage});const{translatedColumnCells}=useTranslatedTableColumnCells({columnCells:transactionsTableColumnCells});const{transactionsTableValue}=useTransactionsTableValue({transactions});const{tableColumns}=useTableColumns({tableColumnsCells:translatedColumnCells});const{menuBodyTemplate}=useTransactionsTableRowMenuBody({rootStore,modalStore,fetchTransactions});const onPageChange=e=>{if(isLoading)return;setPaginatorPerPage(e.rows);setPaginatorFirst(e.first);setPaginatorPage(e.page||0);};useEffect(()=>{rootStore.transactionsStore.fetchTransactionStatuses();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 car-component\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card car-container\",children:/*#__PURE__*/_jsxs(DataTable,{header:t('transactions'),loading:isLoading,value:transactionsTableValue,responsiveLayout:\"stack\",showGridlines:true,paginator:true,lazy:true,rows:paginatorPerPage,first:paginatiorFirst,rowsPerPageOptions:rowsPerPageOptions,totalRecords:transactionsCount,onPage:onPageChange,children:[tableColumns,/*#__PURE__*/_jsx(Column,{headerStyle:{width:'1%',minWidth:'100px'},body:menuBodyTemplate})]})})})});});","map":{"version":3,"names":["useState","useEffect","DataTable","Column","observer","useTranslation","useTransactions","useTransactionsTableRowMenuBody","useTranslatedTableColumnCells","useTableColumns","rootStore","modalStore","useTransactionsTableValue","transactionsTableColumnCells","jsx","_jsx","jsxs","_jsxs","rowsPerPageOptions","Transactions","paginatiorFirst","setPaginatorFirst","paginatorPage","setPaginatorPage","paginatorPerPage","setPaginatorPerPage","t","transactions","transactionsCount","fetchTransactions","isLoading","page","perPage","translatedColumnCells","columnCells","transactionsTableValue","tableColumns","tableColumnsCells","menuBodyTemplate","onPageChange","e","rows","first","transactionsStore","fetchTransactionStatuses","className","children","header","loading","value","responsiveLayout","showGridlines","paginator","lazy","totalRecords","onPage","headerStyle","width","minWidth","body"],"sources":["/Users/st/Documents/carbon/front/src/screens/transactions/transactions.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { DataTable, DataTablePFSEvent } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { observer } from 'mobx-react';\nimport { useTranslation } from 'react-i18next';\nimport { useTransactions, useTransactionsTableRowMenuBody } from '@hooks/transactions';\nimport { useTranslatedTableColumnCells } from '@hooks/translation-hook';\nimport { useTableColumns } from '@hooks/use-table-columns';\nimport { rootStore } from '@store/root-store';\nimport { modalStore } from '@store/modal-store';\nimport { useTransactionsTableValue } from './hooks/use-transactions-table-value';\nimport { transactionsTableColumnCells } from './table/transactions-table-column-cells';\n\nconst rowsPerPageOptions = [10, 25, 50];\n\nexport const Transactions = observer(() => {\n  const [paginatiorFirst, setPaginatorFirst] = useState(1);\n  const [paginatorPage, setPaginatorPage] = useState(0);\n  const [paginatorPerPage, setPaginatorPerPage] = useState(10);\n  const { t } = useTranslation();\n  const { transactions, transactionsCount, fetchTransactions, isLoading } = useTransactions({\n    page: paginatorPage + 1,\n    perPage: paginatorPerPage,\n  });\n  const { translatedColumnCells } = useTranslatedTableColumnCells({\n    columnCells: transactionsTableColumnCells,\n  });\n  const { transactionsTableValue } = useTransactionsTableValue({ transactions });\n  const { tableColumns } = useTableColumns({ tableColumnsCells: translatedColumnCells });\n  const { menuBodyTemplate } = useTransactionsTableRowMenuBody({\n    rootStore,\n    modalStore,\n    fetchTransactions,\n  });\n\n  const onPageChange = (e: DataTablePFSEvent) => {\n    if (isLoading) return;\n\n    setPaginatorPerPage(e.rows);\n    setPaginatorFirst(e.first);\n    setPaginatorPage(e.page || 0);\n  };\n\n  useEffect(() => {\n    rootStore.transactionsStore.fetchTransactionStatuses();\n  }, []);\n\n  return (\n    <div className=\"grid\">\n      <div className=\"col-12 car-component\">\n        <div className=\"card car-container\">\n          <DataTable\n            header={t('transactions')}\n            loading={isLoading}\n            value={transactionsTableValue}\n            responsiveLayout=\"stack\"\n            showGridlines\n            paginator\n            lazy\n            rows={paginatorPerPage}\n            first={paginatiorFirst}\n            rowsPerPageOptions={rowsPerPageOptions}\n            totalRecords={transactionsCount}\n            onPage={onPageChange}\n          >\n            {tableColumns}\n            <Column headerStyle={{ width: '1%', minWidth: '100px' }} body={menuBodyTemplate} />\n          </DataTable>\n        </div>\n      </div>\n    </div>\n  );\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}