{"ast":null,"code":"import qs from'query-string';import{createUnsuccessfulApiResponse}from'@services/error-service';import{ApiResponse}from'@custom-types/api-types';import{parsePaginationHeader}from'@services/pagination.service';import{axiosAuthorized}from'./api';export const getModerators=async args=>{try{var _response$headers;const params=qs.stringify(args);const response=await axiosAuthorized.get(\"/users?\".concat(params));const pagination=parsePaginationHeader(response===null||response===void 0?void 0:(_response$headers=response.headers)===null||_response$headers===void 0?void 0:_response$headers['x-pagination']);return new ApiResponse({data:response.data,pagination});}catch(error){return createUnsuccessfulApiResponse(error);}};export const postModerator=async payload=>{try{const response=await axiosAuthorized.post('/users/moderators',payload);return new ApiResponse({data:response.data});}catch(error){return createUnsuccessfulApiResponse(error);}};export const patchModerator=async(moderatorId,payload)=>{try{const response=await axiosAuthorized.patch(\"/users/\".concat(moderatorId),payload);return new ApiResponse({data:response.data});}catch(error){return createUnsuccessfulApiResponse(error);}};export const deleteModerator=async moderatorId=>{try{const response=await axiosAuthorized.delete(\"/users/\".concat(moderatorId));return response.data;}catch(_unused){return false;}};","map":{"version":3,"names":["qs","createUnsuccessfulApiResponse","ApiResponse","parsePaginationHeader","axiosAuthorized","getModerators","args","_response$headers","params","stringify","response","get","concat","pagination","headers","data","error","postModerator","payload","post","patchModerator","moderatorId","patch","deleteModerator","delete","_unused"],"sources":["/Users/st/Documents/carbon/front/src/api/moderator-api.ts"],"sourcesContent":["import { GetModeratorsResponse, ModeratorResponse, UserProps } from '@custom-types/user-types';\nimport qs from 'query-string';\nimport { createUnsuccessfulApiResponse } from '@services/error-service';\nimport { ApiResponse } from '@custom-types/api-types';\nimport { GetFilterArgs } from '@custom-types/filter-types';\nimport { parsePaginationHeader } from '@services/pagination.service';\nimport { AxiosResponse } from 'axios';\nimport { axiosAuthorized } from './api';\n\nexport const getModerators = async (\n  args: GetFilterArgs,\n): Promise<ApiResponse<GetModeratorsResponse>> => {\n  try {\n    const params = qs.stringify(args);\n    const response = await axiosAuthorized.get<GetModeratorsResponse>(`/users?${params}`);\n    const pagination = parsePaginationHeader(response?.headers?.['x-pagination']);\n    return new ApiResponse<GetModeratorsResponse>({ data: response.data, pagination });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const postModerator = async (\n  payload: UserProps,\n): Promise<ApiResponse<{ password: string }>> => {\n  try {\n    const response = await axiosAuthorized.post<{ password: string }>('/users/moderators', payload);\n    return new ApiResponse<{ password: string }>({ data: response.data });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const patchModerator = async (\n  moderatorId: string,\n  payload: UserProps,\n): Promise<ApiResponse<ModeratorResponse>> => {\n  try {\n    const response = await axiosAuthorized.patch(`/users/${moderatorId}`, payload);\n    return new ApiResponse<ModeratorResponse>({ data: response.data });\n  } catch (error) {\n    return createUnsuccessfulApiResponse(error);\n  }\n};\n\nexport const deleteModerator = async (moderatorId: string): Promise<AxiosResponse | false> => {\n  try {\n    const response = await axiosAuthorized.delete(`/users/${moderatorId}`);\n    return response.data;\n  } catch {\n    return false;\n  }\n};\n"],"mappings":"AACA,MAAO,CAAAA,EAAE,KAAM,cAAc,CAC7B,OAASC,6BAA6B,KAAQ,yBAAyB,CACvE,OAASC,WAAW,KAAQ,yBAAyB,CAErD,OAASC,qBAAqB,KAAQ,8BAA8B,CAEpE,OAASC,eAAe,KAAQ,OAAO,CAEvC,MAAO,MAAM,CAAAC,aAAa,CAAG,KAC3B,CAAAC,IAAmB,EAC6B,CAChD,GAAI,KAAAC,iBAAA,CACF,KAAM,CAAAC,MAAM,CAAGR,EAAE,CAACS,SAAS,CAACH,IAAI,CAAC,CACjC,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAN,eAAe,CAACO,GAAG,WAAAC,MAAA,CAAkCJ,MAAM,CAAE,CAAC,CACrF,KAAM,CAAAK,UAAU,CAAGV,qBAAqB,CAACO,QAAQ,SAARA,QAAQ,kBAAAH,iBAAA,CAARG,QAAQ,CAAEI,OAAO,UAAAP,iBAAA,iBAAjBA,iBAAA,CAAoB,cAAc,CAAC,CAAC,CAC7E,MAAO,IAAI,CAAAL,WAAW,CAAwB,CAAEa,IAAI,CAAEL,QAAQ,CAACK,IAAI,CAAEF,UAAW,CAAC,CAAC,CACpF,CAAE,MAAOG,KAAK,CAAE,CACd,MAAO,CAAAf,6BAA6B,CAACe,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,aAAa,CAAG,KAC3B,CAAAC,OAAkB,EAC6B,CAC/C,GAAI,CACF,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAN,eAAe,CAACe,IAAI,CAAuB,mBAAmB,CAAED,OAAO,CAAC,CAC/F,MAAO,IAAI,CAAAhB,WAAW,CAAuB,CAAEa,IAAI,CAAEL,QAAQ,CAACK,IAAK,CAAC,CAAC,CACvE,CAAE,MAAOC,KAAK,CAAE,CACd,MAAO,CAAAf,6BAA6B,CAACe,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAI,cAAc,CAAG,KAAAA,CAC5BC,WAAmB,CACnBH,OAAkB,GAC0B,CAC5C,GAAI,CACF,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAN,eAAe,CAACkB,KAAK,WAAAV,MAAA,CAAWS,WAAW,EAAIH,OAAO,CAAC,CAC9E,MAAO,IAAI,CAAAhB,WAAW,CAAoB,CAAEa,IAAI,CAAEL,QAAQ,CAACK,IAAK,CAAC,CAAC,CACpE,CAAE,MAAOC,KAAK,CAAE,CACd,MAAO,CAAAf,6BAA6B,CAACe,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,MAAO,MAAM,CAAAO,eAAe,CAAG,KAAO,CAAAF,WAAmB,EAAqC,CAC5F,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAN,eAAe,CAACoB,MAAM,WAAAZ,MAAA,CAAWS,WAAW,CAAE,CAAC,CACtE,MAAO,CAAAX,QAAQ,CAACK,IAAI,CACtB,CAAE,MAAAU,OAAA,CAAM,CACN,MAAO,MAAK,CACd,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}